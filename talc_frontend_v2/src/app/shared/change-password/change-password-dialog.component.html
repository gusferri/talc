<div class="dialog-container">
  <h2 mat-dialog-title class="dialog-title">
    <mat-icon>lock_reset</mat-icon>
    Cambiar Contraseña
  </h2>

  <form (ngSubmit)="guardar()" class="password-form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Contraseña Actual</mat-label>
      <input matInput 
             [type]="hideCurrentPassword ? 'password' : 'text'"
             [(ngModel)]="currentPassword" 
             name="currentPassword" 
             required 
             placeholder="Ingrese su contraseña actual">
      <button mat-icon-button 
              matSuffix 
              (click)="hideCurrentPassword = !hideCurrentPassword" 
              [attr.aria-label]="'Hide password'" 
              [attr.aria-pressed]="hideCurrentPassword">
        <mat-icon>{{hideCurrentPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Nueva Contraseña</mat-label>
      <input matInput 
             [type]="hideNewPassword ? 'password' : 'text'"
             [(ngModel)]="newPassword" 
             name="newPassword" 
             required 
             placeholder="Ingrese su nueva contraseña">
      <button mat-icon-button 
              matSuffix 
              (click)="hideNewPassword = !hideNewPassword" 
              [attr.aria-label]="'Hide password'" 
              [attr.aria-pressed]="hideNewPassword">
        <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Confirmar Nueva Contraseña</mat-label>
      <input matInput 
             [type]="hideConfirmPassword ? 'password' : 'text'"
             [(ngModel)]="confirmPassword" 
             name="confirmPassword" 
             required 
             placeholder="Confirme su nueva contraseña">
      <button mat-icon-button 
              matSuffix 
              (click)="hideConfirmPassword = !hideConfirmPassword" 
              [attr.aria-label]="'Hide password'" 
              [attr.aria-pressed]="hideConfirmPassword">
        <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
    </mat-form-field>

    <div mat-dialog-actions class="dialog-actions">
      <button mat-raised-button 
              color="primary" 
              type="submit" 
              class="action-button update-button">
        <mat-icon>update</mat-icon>
        Actualizar
      </button>
      <button mat-raised-button 
              color="warn" 
              type="button" 
              (click)="cancelar()" 
              class="action-button cancel-button">
        <mat-icon>cancel</mat-icon>
        Cancelar
      </button>
    </div>
  </form>
</div> 